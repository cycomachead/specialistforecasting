<project name="AppStore Apex Build" default="" basedir=".">
	<import file="${tools.home}/build/tools.xml" />

	<propertyset id="appstore-properties">
		<propertyref name="endpoint"/>
		<propertyref name="sfdc.login"/>
		<propertyref name="sfdc.password"/>
		<propertyref name="billing.login"/>
		<propertyref name="billing.password"/>
		<propertyref name="home.dir"/>
		<propertyref name="JAVA_HOME"/>
		<propertyref name="LOADER_HOME"/>
		<propertyref name="java.heap"/>
		<propertyref name="tools.home"/>
		<propertyref name="basebiz.home"/>
		<propertyref name="license.home"/>
		<propertyref name="quote.home"/>
		<propertyref name="billing.home"/>
	</propertyset>

	<target name="loadBasebiz">
		<subant target="loadDeOrgObjects" buildpath="${basebiz.home}/build">
			<propertyset refid="appstore-properties"/>
		</subant>
	</target>

	<target name="loadLicense">
		<subant target="loadDeOrgObjects" buildpath="${license.home}/build">
			<propertyset refid="appstore-properties"/>
		</subant>
	</target>

	<target name="loadQuote">
		<subant target="loadAll" buildpath="${quote.home}/build">
			<propertyset refid="appstore-properties"/>
		</subant>
	</target>

	<target name="loadBilling">
		<subant target="loadBillingObjects" buildpath="${billing.home}/build">
			<propertyset refid="appstore-properties"/>
		</subant>
	</target>

	<target name="ftestApex" depends="compileApexRunTests">
		<apexRunTests user="${apex.user}"
				password="${apex.password}"
				server="${endpoint}"/>
	</target>

</project>
